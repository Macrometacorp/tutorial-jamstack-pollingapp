(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+6XX":function(t,n,e){var o=e("y1pI");t.exports=function(t){return o(this.__data__,t)>-1}},"/9aa":function(t,n,e){var o=e("NykK"),r=e("ExA7");t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},"2gN3":function(t,n,e){var o=e("Kz5y")["__core-js_shared__"];t.exports=o},"3Fdi":function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},"44Ds":function(t,n,e){var o=e("e4Nc");function r(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var o=arguments,r=n?n.apply(this,o):o[0],i=e.cache;if(i.has(r))return i.get(r);var a=t.apply(this,o);return e.cache=i.set(r,a)||i,a};return e.cache=new(r.Cache||o),e}r.Cache=o,t.exports=r},"4kuk":function(t,n,e){var o=e("SfRM"),r=e("Hvzi"),i=e("u8Dt"),a=e("ekgI"),c=e("JSQU");function u(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},"4uTw":function(t,n,e){var o=e("Z0cm"),r=e("9ggG"),i=e("GNiM"),a=e("dt0z");t.exports=function(t,n){return o(t)?t:r(t,n)?[t]:i(a(t))}},"8o2o":function(t,n,e){"use strict";function o(t,n){if(null==t)return{};var e,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e=i[o],n.indexOf(e)>=0||(r[e]=t[e]);return r}e.d(n,"a",(function(){return o}))},"9Nap":function(t,n,e){var o=e("/9aa");t.exports=function(t){if("string"==typeof t||o(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},"9ggG":function(t,n,e){var o=e("Z0cm"),r=e("/9aa"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,n){if(o(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!r(t))||(a.test(t)||!i.test(t)||null!=n&&t in Object(n))}},AP2z:function(t,n,e){var o=e("nmnc"),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,c=o?o.toStringTag:void 0;t.exports=function(t){var n=i.call(t,c),e=t[c];try{t[c]=void 0;var o=!0}catch(u){}var r=a.call(t);return o&&(n?t[c]=e:delete t[c]),r}},Cwc5:function(t,n,e){var o=e("NKxu"),r=e("Npjl");t.exports=function(t,n){var e=r(t,n);return o(e)?e:void 0}},E2jh:function(t,n,e){var o,r=e("2gN3"),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!i&&i in t}},EpBk:function(t,n){t.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},ExA7:function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},GNiM:function(t,n,e){var o=e("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=o((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(r,(function(t,e,o,r){n.push(o?r.replace(i,"$1"):e||t)})),n}));t.exports=a},GoyQ:function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},H8j4:function(t,n,e){var o=e("QkVE");t.exports=function(t,n){var e=o(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}},Hvzi:function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},I01J:function(t,n,e){var o=e("44Ds");t.exports=function(t){var n=o(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}},JHgL:function(t,n,e){var o=e("QkVE");t.exports=function(t){return o(this,t).get(t)}},JSQU:function(t,n,e){var o=e("YESw");t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=o&&void 0===n?"__lodash_hash_undefined__":n,this}},KMkd:function(t,n){t.exports=function(){this.__data__=[],this.size=0}},KfNM:function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},Kz5y:function(t,n,e){var o=e("WFqU"),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},LyJW:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var o=e("vOnD").b.button.withConfig({displayName:"theme__Button",componentId:"r5icax-0"})(["padding:5px 25px;background-image:linear-gradient(116deg,#08aeea 0%,#2af598 100%);color:white;font-weight:bold;text-transform:uppercase;border:none;font-family:sans-serif;filter:",";transition:filter 300ms linear;cursor:",";&:focus,&:hover{filter:",";}"],(function(t){return t.disabled?"grayscale(1)":"hue-rotate(0deg)"}),(function(t){return t.disabled?"not-allowed":"pointer"}),(function(t){return!t.disabled&&"hue-rotate(45deg)"}))},NKxu:function(t,n,e){var o=e("lSCD"),r=e("E2jh"),i=e("GoyQ"),a=e("3Fdi"),c=/^\[object .+?Constructor\]$/,u=Function.prototype,s=Object.prototype,l=u.toString,p=s.hasOwnProperty,f=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||r(t))&&(o(t)?f:c).test(a(t))}},Npjl:function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},NykK:function(t,n,e){var o=e("nmnc"),r=e("AP2z"),i=e("KfNM"),a=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):i(t)}},QkVE:function(t,n,e){var o=e("EpBk");t.exports=function(t,n){var e=t.__data__;return o(n)?e["string"==typeof n?"string":"hash"]:e.map}},SfRM:function(t,n,e){var o=e("YESw");t.exports=function(){this.__data__=o?o(null):{},this.size=0}},WFqU:function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e("yLpj"))},Xi7e:function(t,n,e){var o=e("KMkd"),r=e("adU4"),i=e("tMB7"),a=e("+6XX"),c=e("Z8oC");function u(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},YESw:function(t,n,e){var o=e("Cwc5")(Object,"create");t.exports=o},Z0cm:function(t,n){var e=Array.isArray;t.exports=e},Z8oC:function(t,n,e){var o=e("y1pI");t.exports=function(t,n){var e=this.__data__,r=o(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}},ZWtO:function(t,n,e){var o=e("4uTw"),r=e("9Nap");t.exports=function(t,n){for(var e=0,i=(n=o(n,t)).length;null!=t&&e<i;)t=t[r(n[e++])];return e&&e==i?t:void 0}},adU4:function(t,n,e){var o=e("y1pI"),r=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=o(n,t);return!(e<0)&&(e==n.length-1?n.pop():r.call(n,e,1),--this.size,!0)}},dt0z:function(t,n,e){var o=e("zoYe");t.exports=function(t){return null==t?"":o(t)}},e4Nc:function(t,n,e){var o=e("fGT3"),r=e("k+1r"),i=e("JHgL"),a=e("pSRY"),c=e("H8j4");function u(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},eUgh:function(t,n){t.exports=function(t,n){for(var e=-1,o=null==t?0:t.length,r=Array(o);++e<o;)r[e]=n(t[e],e,t);return r}},ebwN:function(t,n,e){var o=e("Cwc5")(e("Kz5y"),"Map");t.exports=o},ekgI:function(t,n,e){var o=e("YESw"),r=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return o?void 0!==n[t]:r.call(n,t)}},fGT3:function(t,n,e){var o=e("4kuk"),r=e("Xi7e"),i=e("ebwN");t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},"k+1r":function(t,n,e){var o=e("QkVE");t.exports=function(t){var n=o(this,t).delete(t);return this.size-=n?1:0,n}},kka2:function(t,n,e){"use strict";e.r(n);var o=e("/S4K"),r=e("9Hrx"),i=e("mwIZ"),a=e.n(i),c=e("kD0k"),u=e.n(c),s=e("q1tI"),l=e.n(s),p=e("8o2o"),f=e("vOnD"),d=e("CE+W"),h=e("LyJW"),v=f.b.section.withConfig({displayName:"Poll__Container",componentId:"sc-6vh4a2-0"})(["margin-top:50px;display:flex;flex-direction:column;align-items:center;"]),y=f.b.span.withConfig({displayName:"Poll__OptionText",componentId:"sc-6vh4a2-1"})(["flex:10;"]),x=f.b.div.withConfig({displayName:"Poll__OptionResult",componentId:"sc-6vh4a2-2"})(["padding-left:10px;margin-left:10px;flex:1;font-weight:bold;height:100%;text-align:center;"]),g=Object(f.b)((function(t){var n=t.hasVoted,e=(t.selected,t.optionIsSelected,Object(p.a)(t,["hasVoted","selected","optionIsSelected"]));return n?l.a.createElement("div",e):l.a.createElement("button",e)})).withConfig({displayName:"Poll__Option",componentId:"sc-6vh4a2-3"})(["display:flex;align-items:center;font-family:Roboto,sans-serif;margin:20px 0;background-color:white;border:none;padding:10px 20px;box-shadow:0 10px 20px ",";transition:transform 150ms linear,box-shadow 150ms linear,color 150ms linear;cursor:",";color:",";",";"],(function(t){return t.selected?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.2)"}),(function(t){return t.hasVoted?"default":"pointer"}),(function(t){var n=t.selected,e=t.optionIsSelected;return n?"rgba(0, 0, 0, 0.8)":e?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.6)"}),(function(t){return t.hasVoted?Object(f.a)(["&:hover,&:focus{color:rgba(0,0,0,0.8);}"]):Object(f.a)(["&:hover,&:focus{transform:",";box-shadow:0 10px 25px rgba(0,0,0,0.5);color:rgba(0,0,0,0.8);}"],(function(t){return t.selected?"translateY(0)":"translateY(-3px)"}))})),b=f.b.div.withConfig({displayName:"Poll__ButtonContainer",componentId:"sc-6vh4a2-4"})(["margin-top:30px;display:flex;justify-content:flex-end;width:100%;min-height:36px;"]),_=function(t){var n=t.loading,e=t.options,o=t.title,r=t.selection,i=t.hasVoted,a=t.onSelectOption,c=t.onVote,u=e||[],s=!n&&u.length>0,p=s&&!i,f=n||!r,_=u.reduce((function(t,n){return t+n.votes}),0);return i&&(u=u.sort((function(t,n){return n.votes-t.votes}))),l.a.createElement(v,null,l.a.createElement(d.a,null,n||!o?"loading...":o),l.a.createElement("div",null,s&&u.map((function(t){var n=t.id,e=n===r,o=(t.votes/_*100).toFixed(2)||0;return l.a.createElement(g,{key:n,selected:e,hasVoted:i,optionIsSelected:!!r,onClick:function(){return!i&&a(n)}},l.a.createElement(y,null,t.text),i&&!isNaN(o)&&l.a.createElement(x,null,o,"%"))}))),l.a.createElement(b,null,p&&l.a.createElement(h.a,{disabled:f,onClick:function(){!f&&c()}},"Vote")))},m=e("Bl7J"),w=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).state={title:"",loading:!1,selection:"",hasVoted:!1,options:[]},n.onVote=function(){var t=Object(o.a)(u.a.mark((function t(e,r,i){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.state.title,c=n.state.selection,n.setState({loading:!0},(function(){e(c).then(Object(o.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:e=t.sent,n.setState({loading:!1,hasVoted:!0,options:Object.values(e)},(function(){i((function(t){var e=JSON.parse(t).payload,o=JSON.parse(atob(e));n.setState({options:o[a]})}))}));case 4:case"end":return t.stop()}}),t)})))).catch((function(t){return console.log(t)}))}));case 3:case"end":return t.stop()}}),t)})));return function(n,e,o){return t.apply(this,arguments)}}(),n.onSelectOption=function(t){n.setState({selection:t})},n.getData=function(t){new Promise(function(){var e=Object(o.a)(u.a.mark((function e(o){var r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0);case 2:r=e.sent,i=r.pollName,a=r.polls,n.setState({options:Object.values(a),title:i},(function(){return o()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n}Object(r.a)(n,t);var e=n.prototype;return e.componentDidMount=function(){var t=a()(this,"props.location.state.title"),n=a()(this,"props.location.state.options");t&&n&&this.setState({title:t,options:n})},e.render=function(){var t=this;return l.a.createElement(m.a,null,(function(n){var e=t.state,o=e.title,r=e.options,i=n.isSignedIn,a=n.onSubmitVote,c=n.getPollData,u=n.establishLiveConnection;return o&&r||i&&t.getData(c),l.a.createElement(_,Object.assign({},t.state,{onVote:function(){t.onVote(a,c,u)},onSelectOption:function(n){t.onSelectOption(n)}}))}))},n}(s.Component);n.default=w},lSCD:function(t,n,e){var o=e("NykK"),r=e("GoyQ");t.exports=function(t){if(!r(t))return!1;var n=o(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},ljhN:function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},mwIZ:function(t,n,e){var o=e("ZWtO");t.exports=function(t,n,e){var r=null==t?void 0:o(t,n);return void 0===r?e:r}},nmnc:function(t,n,e){var o=e("Kz5y").Symbol;t.exports=o},pSRY:function(t,n,e){var o=e("QkVE");t.exports=function(t){return o(this,t).has(t)}},tMB7:function(t,n,e){var o=e("y1pI");t.exports=function(t){var n=this.__data__,e=o(n,t);return e<0?void 0:n[e][1]}},u8Dt:function(t,n,e){var o=e("YESw"),r=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(o){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return r.call(n,t)?n[t]:void 0}},y1pI:function(t,n,e){var o=e("ljhN");t.exports=function(t,n){for(var e=t.length;e--;)if(o(t[e][0],n))return e;return-1}},zoYe:function(t,n,e){var o=e("nmnc"),r=e("eUgh"),i=e("Z0cm"),a=e("/9aa"),c=o?o.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(n){if("string"==typeof n)return n;if(i(n))return r(n,t)+"";if(a(n))return u?u.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}}}]);
//# sourceMappingURL=component---src-pages-poll-js-dd5ea3d0020ead273d4b.js.map